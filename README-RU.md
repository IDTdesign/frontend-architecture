# Архитектура фронтенда

## Цель

Сделать вёрстку управляемой, транспортабельной и кастомизируемой. Решить существующие проблемы.

### Какие проблемы решаем

* Глобальными переменными тяжело управлять: их слишком много, страшно менять переменные, т.к. это может зацепить другие компоненты в непредсказуемых местах. В результате создаем еще больше похожих глобальных переменных.
* Нынешнее разбиение на компоненты не годится: они получились слишком большими, в них тяжело разобраться. При попытке перенести верстку в другой проект переносится много лишнего кода.
* Верстка не документирована, нет примеров использования: зачастую конкретным компонентом пользуется только автор, остальные пишут свои похожие компоненты и пользуются только ими. Кодовая база растёт, а совместное владение кодом понижается.
* Низкая транспортабельность кода: нельзя просто так взять и перенести компонент из проекта в проект. Из-за использования глобальных переменных, которые могут быть не объявлены в новом проекте, компонент не билдится. Приходится разбираться с исходным кодом компонента, а так как они слишком крупные (и часто в одном файле содержится несколько модулей), то разбираться с компонентами долго и лень.
* Не предусмотрена кастомизация внешнего вида: в новом проекте компонент можно кастомизировать только с помощью глобальных переменных, но их недостаточно. Бывает, что перенесённый компонент уже содержит скин, который нужно обнулять. Тогда приходится менять код самого компонента, а не добавлять новые стили через класс-модификатор. В результате у нас появляется дубликат компонента с новым внешним видом.

## Терминология

> Компонент — это технологическая реализация конкретной задачи с помощью HTML/CSS/JS. В терминах БЭМ — это независимый блок. Компонент решает техническую задачу: например, отображение контента, элементов форм, выпадающее меню, прижатый к низу окна футер и т.д.

Компонент и модуль не одно и то же.

> Модуль — это готовый кусок интерфейса, который может быть собран из нескольких компонентов, как из элементов конструктора. Модуль решает интерфейсную задачу (задачу более высокого уровня): хеадер, навигация, футер.

Обычно компонент — более мелкая единица, чем модуль. Иногда компонент = модулю: задача модуля решается одним единственным компонентом.

## Компонентный подход

Новый компонентный подход призван решить проблемы с лишним кодом и низкой транспортабельностью компонентов между проектами.

> Лучше делать маленькие компоненты

Маленькими компонентами легче управлять, к ним проще написать документацию, и в итоге ими легче пользоваться.

Насколько маленькими делать компоненты?

> Делать конструктор из мелких делатей

Вместо сложного компонента с множеством модификаторов и зависисмостей лучше сделать три-четыре более мелких и простых независимых компонента и с их помощью собрать модуль с нужным функционалом.

> Если компонент слишком сильно изменился, то это новый компонент



## Структура компонента

## Разделение на «геометрию» и «скин»

## Документация

## Импорт компонента в проект

## Кастомизация компонента
